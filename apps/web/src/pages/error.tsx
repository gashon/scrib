import { FC } from 'react';
import { useRouter } from 'next/router';
import { userIsLoggedIn } from '@scrib/web/features/auth';
import Link, { LinkProps } from 'next/link';
import { Button } from '@scrib/ui/atoms';

type QueryParamsWithRedirect = {
  message?: string;
  redirect: LinkProps['href'];
  retry?: string;
};

type QueryParamsWithoutRedirect = {
  message?: string;
  redirect: never;
  retry: never;
};

export type QueryParams = QueryParamsWithRedirect | QueryParamsWithoutRedirect;

const ErrorPage: FC = ({}) => {
  const router = useRouter();

  const { message, redirect, retry } = router.query as QueryParams;
  const isLoggedIn = userIsLoggedIn();

  return (
    <div className="relative w-screen h-screen  flex justify-center items-center">
      <main className="z-20 flex justify-center items-center flex-col">
        <h1 className="text-4xl mb-10">{message ?? 'There was an error'}</h1>

        <div className="flex flex-row gap-5">
          {retry && redirect && (
            <Link href={redirect} className=" font-bold">
              <Button>Go Back</Button>
            </Link>
          )}

          <Link href={isLoggedIn ? '/' : '/auth'}>
            <Button variant="secondary">
              {isLoggedIn ? 'Go to Landing Page' : 'Login'}
            </Button>
          </Link>
        </div>
      </main>

      <div className="absolute inset-0 opacity-75 z-10">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          version="1.1"
          viewBox="0 0 1000 1000"
          preserveAspectRatio="xMidYMid meet"
          className="w-full h-full"
        >
          <defs>
            <linearGradient
              x1="50%"
              y1="0%"
              x2="50%"
              y2="100%"
              id="ssscribble-grad"
            >
              <stop
                stopColor="hsl(0, 0%, 20%)"
                stopOpacity="1"
                offset="0%"
              ></stop>
              <stop
                stopColor="hsl(0, 0%, 81%)"
                stopOpacity="1"
                offset="100%"
              ></stop>
            </linearGradient>
          </defs>
          <g
            fill="none"
            strokeWidth="1.25"
            stroke="url(#ssscribble-grad)"
            strokeLinecap="round"
          >
            <path
              d="M912.85 248.45C857.15 274.55 777.93 299.61 698.02 327.77 636.69 361.47 606.2 407.97 608.46 473.47 641.18 548.82 689.55 637.88 739.13 723.96 784.27 779.99 810.54 791.27 815.08 744.36 801.06 665.29 768.76 586.02 724.98 561.62 672.16 623.6 617.22 750.59 565.09 871.73 512.25 905.25 465.31 826.03 425.42 692.79 386.09 623.95 353.16 682.42 327.06 826.35 300.97 925.51 282.94 887.96 273.06 753.31 263.47 625.34 283.71 848.67 302.29 839.04 305.85 729.91 300.69 608.67 280.51 526.79 241.76 503.53 184.55 532.4 112.25 583.06 35.49 641.26 -36.27 677.23 -88.12 686.07 -109.51 676.33 -93.87 648.57 -42.61 614.36 27.22 574.98 101.15 539.86 156.85 513.76 173.67 487.67 150.5 471.84 97.56 462 27.16 446.99 -36.55 427.28 -77.44 391.8 -90.19 337.73 -69.12 258.79 -21.28 160.37 45.2 69.5 118.72 3.16 188.62 -7.77 251.51 39.89 300.78 130.19 336.56 212.15 360.56 222.64 375.7 143.18 386.71 6.71 392.41 -97.82 399.79 -97.77 411.92 12.67 423.07 137.25 441.14 169.51 467.24 70.35 493.33 -73.57 526.21 -126.75 564.27 -47.85 601.36 95.46 641.45 189.53 680.97 175.14 729.11 21.33 757.8 41.41 723.21 209.78 687.51 290.89 644.93 317.07 605.61 301.27 584.93 255.41 587.26 209.32 619.13 179.2 679.14 158.92 757.71 159.89 838.18 175.4 901.2 196.46 929.67 222.35 912.87 248.44Q912.85 248.45 912.85 248.45"
              opacity="0.48"
            ></path>
            <path
              d="M881.54 335.52C831.77 359.44 760.62 395.89 685.79 444.52 622.6 493.95 582.24 554.99 568.86 621.84 583.1 678.88 616.02 723.8 657.19 740.17 702.75 723.55 739.12 670.96 761.07 596.4 770.75 538.93 763.67 522.77 743.28 573.55 712.88 679.11 675.44 798.94 635.74 869.4 592.68 849.32 551.74 748.13 515.48 632.53 478.79 592.39 447.89 660.97 423.97 794.67 400.05 890.3 384.24 871.85 375.81 759.4 365.68 604.34 363.26 760.48 355.82 838.72 339.34 797.6 312.07 702.68 271.05 596.76 217.75 507.81 153.01 460.8 82.54 452.37 16.46 475.73 -37.9 510.47 -69.67 540.31 -73.83 569.52 -47.08 582.5 6.87 580.13 72.46 574.28 138.77 558.13 188.54 534.21 205.46 510.29 188.72 479.74 145.45 440.48 83.78 397.74 22.64 341.25 -24.23 270.59 -51.84 199.3 -51.69 125.16 -26.26 64.92 19.41 36.47 78.52 49.12 142.1 106.71 207.05 181.27 265.61 247.84 314.94 264.07 357 207.28 389.99 93.18 416.22 -25.43 437.42 -80.15 456.07 -36.94 474.81 80.43 492.22 183.67 512.35 197.32 536.27 101.73 560.19 -31.98 586.77 -95.75 614.48 -46.41 653.28 135.82 704.39 128.76 702.41 -1.08 689.94 -26.96 665.72 17.55 632.13 106.37 599.9 212.28 569.15 299.22 548.38 352.71 547.86 373.21 569.16 367.68 614.3 352.09 678.72 326.7 753.47 309.17 824.38 304.86 876.87 301.34 898.46 311.6 881.54 335.52Q881.54 335.52 881.54 335.52"
              opacity="0.69"
            ></path>
            <path
              d="M850.02 506.17C805.85 527.92 742.75 557.96 674.11 592.93 588.35 639.23 544.16 669.2 579.66 620.64 617.14 571.94 653.39 518.42 682.63 482 706.63 486.79 718.3 539.5 718.13 635.8 710.1 742.25 693.02 821.88 670.22 834.41 643.36 774.42 614.69 668.94 586.92 578.7 558.2 565.08 532.29 640.28 510.55 763.18 488.8 854.22 472.24 852.35 459.95 764.38 441.27 600.69 400.75 652.39 365.89 771.6 332.55 800.81 289.66 771.12 237.16 700.06 179.41 606.31 117.38 518.64 57.26 452.82 -10.63 400.96 -14.26 401.93 56.91 407.87 117.15 410.82 175.85 402.28 220.02 380.54 236.95 358.8 226.09 324.88 192.22 280.92 140.23 238.4 84.48 189.97 36 143.25 -1.26 109.02 -17.8 91.27 -13.01 100.57 10.09 132.86 49.21 189.31 97.92 254.56 153.58 297.13 209.61 301.05 261.81 249.21 311.91 153.02 355.44 42.21 392.3 -34.29 426.01 -38.46 454.88 34.56 480.25 147.14 504.52 226.74 527.28 224.24 549.02 133.24 570.77 10.33 590.47 -60.49 607.21 -38.51 622.86 60.1 633.54 177.96 637.53 253.91 638.35 257.34 630.64 197.22 614.05 113.41 595.36 39.74 570.55 12.81 543.4 36.52 523.19 101.44 509.85 186.18 509.39 268.4 527.24 342.28 563.29 394.48 616.49 427.43 680.92 446.39 749.04 456.54 809.42 465.96 851.69 472.01 866.95 484.42 850.02 506.17Q850.02 506.17 850.02 506.17"
              opacity="0.12"
            ></path>
            <path
              d="M818.51 538.99C779.75 558.56 724.64 572.59 663.05 579.26 603.6 583.34 553.98 575.91 519.25 554.99 502.05 530.69 501.16 496.28 512.97 459.73 536.73 438.13 564.61 435.58 591.53 464.65 619.08 526.07 639.72 614.16 651.99 709.2 660.06 779.95 659.72 804.47 652.4 767.94 641.91 687.55 626.85 593.42 609.1 532.57 590.41 541.8 570.8 620.11 551.23 731.69 531.66 817.17 513.05 829.04 494.83 766.03 475.67 660.32 455.12 562.05 431.69 510.7 405.1 521.11 373.2 579.96 334.97 655.7 292.54 724.65 243.8 757.77 190.6 749.91 138.02 706.39 86.94 639.82 42.8 567.47 10.61 493.75 -6.03 432.85 -3.18 387 17.19 350.47 55.67 324.87 107.57 305.04 161.61 288.4 212.75 271.53 251.51 251.95 268.13 232.38 262.35 211.04 237.22 190.77 195.3 173.69 147.13 163.68 101.02 166.29 59.58 178.23 31.97 206.9 20.46 250.46 23.1 292.64 41.06 331.12 70.55 348.98 109.18 331.19 152.95 274.86 197.72 185.53 244.45 89.42 288.32 13.01 327.61 -11.73 366.06 25.27 399.65 112.39 428.26 210.55 456.33 266.01 480.26 250.17 499.83 164.69 539.19 57.03 537.12 292.89 514.74 239.03 492.3 131.93 470.27 75.63 490.63 142.71 522.51 209.43 567.68 276.07 623.47 334.29 683.92 389.13 743.23 432.16 792.7 464.98 825.38 495.23 835.13 519.42 818.51 538.99Q818.51 538.99 818.51 538.99"
              opacity="0.97"
            ></path>
            <path
              d="M786.87 391.45C753.26 408.84 705.94 415.57 651.97 412.71 597.4 410.49 548.04 400.64 508.37 387.17 467.44 381.43 473.41 418.32 502.53 541.07 563.56 730.59 582.77 561.97 570.79 495.13 560.61 522.43 546.64 600.52 529.25 700.34 511.85 779.3 491.84 801.79 469.21 762.51 446 678.7 419.13 582.89 388.25 508.13 322.23 489.33 237.63 603.56 146.15 696.67 71.43 704.34 28.55 621.53 43.98 523.86 70.9 471.64 110.35 427.33 158.21 392.37 205.47 358.39 249.26 332.66 282.87 315.26 298.95 297.86 297.49 289.62 280.34 290.8 248.47 292.95 209.3 305.61 168.77 327.68 92.02 365.05 58.04 393.56 70.43 340.29 116.35 201.57 183.46 50.44 249.19 43.73 283.61 105.75 314.88 191.66 341.88 268.75 368.91 301.32 391.47 275.3 408.87 196.34 440.71 69.55 433.53 310.15 426.81 184.69 460.02 107.54 530.91 124.96 633.16 190.99 686.44 234.61 735.52 276.1 774.1 311.14 797.97 346.8 802.95 374.05 786.87 391.45Q786.87 391.45 786.87 391.45"
              opacity="0.47"
            ></path>
            <path
              d="M755.36 254.94C687.6 285.38 592.06 307.77 505.64 343.73 447.95 405.46 426.06 512.11 429.27 642.97 465.59 715.64 489.25 490.21 453.64 668.79 423.2 772.05 375.52 691.4 314.12 532.59 252.72 440.42 182.11 474.45 117.43 561.53 74.33 645.45 63.92 662.59 99.3 631.74 163.4 574.43 246.6 518.84 314.36 488.39 329.67 457.94 295.92 455.52 236.19 460.08 164.87 438.18 116.95 373.55 102.51 249.73 112.16 122.74 146.59 56.39 189.73 126.22 239.57 262.7 283.97 331.05 314.41 227.85 344.86 65.58 358.47 45.19 361.39 171.98 371.01 322.22 384.1 373.28 414.33 331.14 468.68 240.18 548.88 181.04 642.52 172.07 724.57 188.87 770.67 224.49 755.38 254.93Q755.36 254.94 755.36 254.94"
              opacity="0.39"
            ></path>
            <path
              d="M723.97 306.41C668.35 332.5 588.47 383.5 509.44 459.61 444.5 537.58 402.94 626.42 382.74 684.74 384.01 639.88 386.18 462.64 355.51 637.22 329.41 736.43 288.84 698.66 239.79 572.34 171.29 423.29 108.39 521.54 161.14 575.78 221.05 586.76 290.35 572.86 345.97 546.76 362.67 520.67 343.12 484.85 300.85 428.65 242.24 358.77 192.97 258.89 164.36 155.2 148.55 97.85 154.56 118.07 174.43 224.02 200.3 331.21 229.51 358.44 255.61 259.28 281.7 115.35 302.22 64.54 321.56 135.54 346.92 270.6 381.64 378.49 431.65 417.46 494.46 393.34 571.41 345.23 649.15 312.48 710.54 281.59 740.67 280.31 723.97 306.41Q723.97 306.41 723.97 306.41"
              opacity="0.91"
            ></path>
            <path
              d="M692.38 479.28C648.1 501.03 584.32 542.49 517.07 591.2 454.08 627.8 403.61 645.95 368.18 622.33 338.14 523.31 304.5 444.56 276.18 605.78 254.43 696.83 226.15 693.9 196.48 612.62 170.72 497.4 151.03 404.94 145.44 360.2 152.37 359.75 179.77 384.01 226.82 405.17 278.14 431.57 333.1 436.58 377.38 414.84 394.44 393.09 386.58 346.64 360.99 282.56 319.25 223.71 278.43 165.51 248.05 137.46 221.22 153.69 210.02 223.08 213.01 322.35 219.44 387.71 234.92 381.84 256.66 290.84 278.41 167.92 304.37 100.05 335.62 118.9 370.32 206.1 415.45 314.94 470.79 399.58 529.67 451.71 593.56 467.51 651.23 468.59 692.76 457.56 709.44 457.54 692.38 479.28Q692.38 479.28 692.38 479.28"
              opacity="0.93"
            ></path>
            <path
              d="M660.88 549.26C580.5 584.06 468.5 579.34 383.87 483.26 322.55 391.38 282.89 396.89 248.1 574.28 213.31 677.36 189.96 552.2 205.69 402.19 244.71 314.83 328.5 298.39 408.88 263.59 421.43 228.8 382.36 182.25 340.18 224 291.52 328.4 282.53 425.36 317.32 322.28 352.11 144.89 424.1 167.59 518.37 305.07 606.15 446.75 673.43 514.47 660.88 549.26Q660.88 549.26 660.88 549.26"
              opacity="0.81"
            ></path>
            <path
              d="M629.36 425.66C573.66 451.76 492.37 414 421.8 348.23 356.89 331.94 309.2 398.88 283.1 542.79 257 642.01 257.44 603.52 288.15 504.13 324.52 389.18 384.66 315.33 440.36 289.24 451.15 276.43 390.85 444.34 412.35 353.79 438.45 209.88 494.88 164.1 559.76 214.59 612.98 314.56 646.18 399.56 629.36 425.66Q629.36 425.66 629.36 425.66"
              opacity="0.55"
            ></path>
            <path
              d="M597.85 268.74C517.48 303.53 401.46 333.9 366.66 511.35 331.87 614.37 391.48 493.25 471.85 458.46 484.42 423.66 467.42 488.37 502.21 385.35 537.01 207.9 610.42 233.94 597.85 268.74Q597.85 268.74 597.85 268.74"
              opacity="0.71"
            ></path>
          </g>
        </svg>
      </div>
    </div>
  );
};

export default ErrorPage;
